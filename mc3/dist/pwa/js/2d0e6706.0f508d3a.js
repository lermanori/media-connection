(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0e6706"],{"996f":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",[e.ShowCreate||"undefined"==e.permission?e._e():i("div",[i("h6",{staticClass:"q-my-none"},[e._v(e._s("Profile: "+e.email))]),i("div",{staticClass:"q-pa-md q-gutter-sm"},[e._v("\n      image:\n      "),i("div",{staticClass:"row justify-center q-gutter-sm"},[i("div",{staticClass:"col-auto"},[e.profilePic?i("q-card",{attrs:{flat:"",bordered:""}},[i("q-card-section",[i("q-img",{staticStyle:{height:"250px",width:"250px"},attrs:{src:e.baseUrl+"/"+e.ProfilePic}})],1)],1):e._e()],1),"owner"==e.permission?i("div",{staticClass:"col-auto"},[i("q-uploader",{ref:"uploader",staticStyle:{"max-width":"300px",height:"100%"},attrs:{label:"Restricted to images",accept:".jpg, image/*",multiple:!1,"hide-upload-btn":!0,url:e.baseUrl+"/api/profile/profile-picture",method:"PUT",headers:[{name:"Authorization",value:e.axiosConfig.headers.Authorization}]},on:{added:function(t){e.uploadedImage=!0},removed:function(t){e.uploadedImage=!1},uploaded:e.showRes,failed:e.showRes}})],1):e._e()])]),i("div",{staticClass:"q-pa-md q-gutter-sm"},[e._v("\n      public:\n      "),"owner"==e.permission?i("q-editor",{attrs:{"min-height":"5rem"},model:{value:e.editorPublic,callback:function(t){e.editorPublic=t},expression:"editorPublic"}}):e._e(),"owner"!=e.permission?i("q-card",{attrs:{flat:"",bordered:""}},[i("q-card-section",{domProps:{innerHTML:e._s(e.editorPublic)}})],1):e._e()],1),"owner"==e.permission||"friends"==e.permission?i("div",{staticClass:"q-pa-md q-gutter-sm"},[e._v("\n      friends:\n      "),"owner"==e.permission?i("q-editor",{attrs:{"min-height":"5rem"},model:{value:e.editorFriends,callback:function(t){e.editorFriends=t},expression:"editorFriends"}}):e._e(),"owner"!=e.permission?i("q-card",{attrs:{flat:"",bordered:""}},[i("q-card-section",{domProps:{innerHTML:e._s(e.editorFriends)}})],1):e._e()],1):e._e(),"owner"==e.permission?i("div",{staticClass:"q-pa-md q-mb-xl q-gutter-sm"},[e._v("\n      private:\n      "),"owner"==e.permission?i("q-editor",{attrs:{"min-height":"5rem"},model:{value:e.editorPrivate,callback:function(t){e.editorPrivate=t},expression:"editorPrivate"}}):e._e(),"owner"!=e.permission?i("q-card",{attrs:{flat:"",bordered:""}},[i("q-card-section",{domProps:{innerHTML:e._s(e.editorPrivate)}})],1):e._e()],1):e._e(),"owner"==e.permission?i("q-btn",{staticClass:"fixed-bottom",style:{width:"100%",height:"50px"},attrs:{color:"green",icon:"save"},on:{click:e.save_handle}}):e._e()],1),e.ShowCreate?i("div",[i("h3",{staticClass:"text-center"},[e._v("\n      No Profile Data.\n      "),i("br"),e._v("To Create Please Press The Button.\n    ")]),i("q-btn",{staticClass:"fixed-bottom",style:{width:"100%",height:"65px"},attrs:{icon:"create",color:"purple"},on:{click:e.created_handle}})],1):e._e()])},s=[],o=i("a34a"),a=i.n(o),n=(i("96cf"),i("c973")),c=i.n(n),d=i("5841"),l=i("c181"),u={props:["id"],data:function(){return{axiosConfig:l["a"].axiosConfig(),uploadedImage:!1,baseUrl:d["a"].localBaseUrl,user:{},showCreate:!1,loaded:!1,permission:"",profilePic:"",email:"",editorPublic:"What you see is <b>what</b> you get.",editorFriends:"What you see is <b>what</b> you get.",editorPrivate:"What you see is <b>what</b> you get."}},computed:{ShowCreate:function(){return this.showCreate},ProfilePic:function(){return this.profilePic}},methods:{showRes:function(e){console.log(e)},created_handle:function(){var e=c()(a.a.mark(function e(){return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("Profile/create");case 2:return e.sent,e.next=5,this.refresh();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),save_handle:function(){var e=c()(a.a.mark(function e(){return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return 1==this.uploadedImage&&this.$refs.uploader.upload(),e.next=3,this.$store.dispatch("Profile/update",{own:this.editorPrivate,friends:this.editorFriends,public:this.editorPublic});case 3:return e.sent,e.next=6,this.refresh();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),refresh:function(){var e=c()(a.a.mark(function e(){var t,i;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("Profile/get",this.id);case 3:t=e.sent,i=t.data,this.user=i,console.log(i),"owner"==i.permission&&"profile undefined"==i.message&&(console.error("should create"),this.showCreate=!0),this.loaded=!0,this.permission=i.permission,this.editorPrivate=void 0==i.profile.own?"":i.profile.own,this.editorFriends=void 0==i.profile.friends?"":i.profile.friends,this.editorPublic=void 0==i.profile.public?"":i.profile.public,this.profilePic=void 0==i.profile.profilePicture?"":i.profile.profilePicture,this.email=void 0==i.profile.email?"":i.profile.email,e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),console.log(e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=c()(a.a.mark(function e(){return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.refresh();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},p=u,h=i("2877"),f=Object(h["a"])(p,r,s,!1,null,"38ae37ce",null);t["default"]=f.exports}}]);