(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d230530"],{ec95:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",[r("div",{staticClass:"row justify-center q-pa-md"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"text-h5 text-center"},[t._v("DashBoard")]),r("q-card",{staticClass:"my-card",staticStyle:{"min-height":"25vh"},attrs:{bordered:""}},[r("q-card-section",[r("div",{staticClass:"text-h6 text-center"},[r("u",[t._v("PROGRESSION:")])])]),t._l(t.Progression,function(e,s){return r("app-progress",{key:s,attrs:{label:e.group,progress1:e.time,progress2:e.progress},on:{click:function(r){return t.progressBarClick_handle(e)}}})}),r("q-separator",{staticClass:"q-mb-lg",attrs:{color:"indigo-8"}})],2),r("div",{staticClass:"row justify-between"},[r("div",{staticClass:"col-md-12 col-xs-12 q-my-lg"},[r("q-card",{staticClass:"my-card",attrs:{bordered:""}},[r("q-card-section",[r("div",{staticClass:"text-h6 text-center"},[r("u",[t._v("CONNECTIONS:")])])]),r("app-connection")],1)],1)])],1)])])},a=[],o=(r("7514"),r("87e7"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-card-section",[r("q-separator",{attrs:{color:"indigo"}}),r("div",{staticClass:"row"},[r("div",{staticClass:"col-2 text-center self-center"},[r("h6",{staticClass:"text-h6"},[t._v(t._s(t.label))])]),r("div",{staticClass:"col-md-9 col-xs-7 q-pr-lg q-pt-md q-pl-md self-center"},[r("q-linear-progress",{staticClass:"q-mt-sm",staticStyle:{height:"20px"},attrs:{stripe:"",rounded:"",value:t.progress1,color:t.computeColor(t.progress1)}}),r("q-linear-progress",{staticStyle:{height:"20px",margin:"-top","margin-bottom":"20px"},attrs:{stripe:"",rounded:"",value:t.progress2,color:t.computeColor(1-t.progress2)}})],1),r("div",{staticClass:"col-1 q-pr-lg self-center"},[r("q-btn",{attrs:{fab:"",icon:"create"},on:{click:function(e){return t.$emit("click")}}})],1)])],1)}),n=[],i={data:function(){return{user:{},tab:"Friends"}},methods:{computeColor:function(t){var e="indigo",r={0:"green-6",1:"green-5",2:"green-4",3:"green-3",4:"green-2",5:"red-2",6:"red-3",7:"red-4",8:"red-5",9:"red-6"},s=Math.floor(10*t);return s>=0&&s<=9?r[s]:e}},props:["label","progress1","progress2","to"]},c=i,u=r("2877"),l=Object(u["a"])(c,o,n,!1,null,"0e7e2062",null),p=l.exports,d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-card-section",[r("q-separator",{staticClass:"q-mb-md",attrs:{color:"indigo"}}),r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[r("q-item-section",{attrs:{side:""}},[r("q-avatar",{attrs:{rounded:"",size:"33px"}},[r("img",{attrs:{src:""}}),r("q-badge",{attrs:{floating:"",color:"teal"}},[t._v("new")])],1)],1),r("q-item-section",[r("q-item-label",[t._v("Mary")]),r("q-item-label",{attrs:{caption:""}},[t._v("2 new messages")])],1),r("q-item-section",{attrs:{side:""}},[t._v(t._s(t.number_min_ago)+" min ago")])],1)],1)},m=[],g={data:function(){return{number_min_ago:20}}},f=g,v=Object(u["a"])(f,d,m,!1,null,null,null),b=v.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-card",[r("q-card-section",[r("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[r("q-tab",{attrs:{name:"Groups",label:"Groups"}}),r("q-tab",{attrs:{name:"Friends",label:"Friends"}})],1),r("q-separator"),r("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[r("q-tab-panel",{attrs:{name:"Groups"}},[t._l(t.Groups,function(e,s){return r("div",{key:s},[r("div",{staticClass:"row justify-center"},[r("div",{staticClass:"col-12 text-center"},[r("div",{staticClass:"text-h6"},[t._v(t._s(e.group_name))])])]),r("div",{staticClass:"q-my-md row wrap justify-between"},[r("div",{staticClass:"col-6"},[t._v("Description: "+t._s(e.group_desc))]),r("div",{staticClass:"col-4 text-center"},[r("q-btn",{attrs:{round:"",color:"indigo",icon:"my_location",to:"/groups/"+e._id}})],1)]),r("q-separator",{staticClass:"q-mt-md"})],1)}),r("div",{staticClass:"row justify-center q-mt-md"},[r("q-btn",{on:{click:function(e){t.popup=!t.popup}}},[t._v("create group")])],1)],2),r("q-tab-panel",{attrs:{name:"Friends"}},[r("div",{staticClass:"text-h6"},[t._v("Friends")]),t._l(t.Friends,function(e,s){return r("div",{key:s,staticClass:"row"},[t._v(t._s(e.email))])}),r("div",{staticClass:"row"},[r("q-input",{staticClass:"q-mt-sm",style:{width:"100%"},attrs:{outlined:"",label:"enter email and press add"},model:{value:t.addedUserEmail,callback:function(e){t.addedUserEmail=e},expression:"addedUserEmail"}})],1),r("div",{staticClass:"row justify-between q-mt-sm"},[r("q-btn",{attrs:{icon:"sync"},on:{click:function(e){return t.$store.dispatch("Friend/syncFriends")}}}),r("q-btn",{attrs:{color:"cyan",icon:"add"},on:{click:function(e){""!=t.addedUserEmail&&t.$store.dispatch("Friend/add",t.addedUserEmail)}}})],1)],2)],1)],1),r("q-dialog",{model:{value:t.popup,callback:function(e){t.popup=e},expression:"popup"}},[r("q-card",{staticClass:"my-card",attrs:{bordered:""}},[r("q-card-section",[r("div",{staticClass:"text-h6"},[t._v("Add a New Group")])]),r("q-card-section",[r("q-input",{attrs:{label:"Group Name"},model:{value:t.newGroup.group_name,callback:function(e){t.$set(t.newGroup,"group_name",e)},expression:"newGroup.group_name"}}),r("q-input",{attrs:{label:"Group Description"},model:{value:t.newGroup.group_desc,callback:function(e){t.$set(t.newGroup,"group_desc",e)},expression:"newGroup.group_desc"}})],1),r("q-btn",{staticClass:"shadow-24",attrs:{fab:"",icon:"add",color:"cyan"},on:{click:function(e){return t.addGroup(t.newGroup)}}})],1)],1)],1)},q=[],_=r("5841"),C=r("c181"),w={data:function(){return{tab:"Groups",popup:!1,newGroup:{group_name:"",group_desc:""},groups:[],addedUserEmail:""}},computed:{Groups:function(){return this.groups},AxiosConfig:function(){return C["a"].axiosConfig()},Friends:function(){return this.$store.getters["Friend/friends"]}},methods:{addGroup:function(t){var e=this,r=_["a"].localBaseUrl+"/api/group/create";this.$axios.post(r,this.newGroup,this.AxiosConfig).then(function(){e.getGroups()})},getGroups:function(){var t=this,e=_["a"].localBaseUrl+"/api/group";this.$axios.get(e,this.AxiosConfig).then(function(e){t.groups=e.data,t.newGroup={}})}},created:function(){this.getGroups()}},x=w,y=Object(u["a"])(x,h,q,!1,null,"46e96f55",null),G=y.exports,k=(r("249f"),{components:{"app-progress":p,"app-notification":b,"app-connection":G},data:function(){return{user:{},label:"label",progress1:.7,progress2:.5,progression:[]}},computed:{Progression:function(){return this.progression}},methods:{convertStatusToNumber:function(t){var e=0;switch(t){case"new request":e=.25;break;case"in-process":e=.5;break;case"waiting for approval":e=.75;break}return e},convertGroupIdToName:function(t){var e=this.$store.getters["Group/Groups"],r=e.find(function(e){return e._id==t}).group_name;return r},progressBarClick_handle:function(t){var e=this;this.$store.dispatch("Group/setGroupID",t.groupId).then(function(){e.$store.dispatch("Post/syncPosts",t.groupId).then(function(){var r="/post/".concat(t.id);e.$router.push(r)})})}},created:function(){var t=this;this.$store.dispatch("Friend/syncFriends"),this.$store.dispatch("Group/syncGroups"),this.$store.dispatch("Post/getAllPosts").then(function(e){var r=e.filter(function(t){return"approved"!=t.status}).map(function(t){return{id:t.id,uploadDate:Date.parse(t.filterdProperties.find(function(t){return"upload date"==t.key}).value),status:t.status,group:t.groupID}}),s=r.map(function(e){return{id:e.id,msTillUpload:e.uploadDate-(new Date).getTime(),status:e.status,statusNumber:t.convertStatusToNumber(e.status),group:t.convertGroupIdToName(e.group),groupId:e.group}}),a=s.filter(function(t){return t.msTillUpload>0}),o=a.map(function(t){return{id:t.id,status:t.status,dTillUploadDivByTen:t.msTillUpload/1e3/60/60/24/10,statusNumber:t.statusNumber,group:t.group,groupId:t.groupId}}),n=o.map(function(t){return{id:t.id,status:t.status,time:1-t.dTillUploadDivByTen,progress:t.statusNumber,group:t.group,groupId:t.groupId}});t.progression=n})}}),$=k,N=Object(u["a"])($,s,a,!1,null,"6a4294c2",null);e["default"]=N.exports}}]);