(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["6e9ff775"],{"996f":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{key:e.id},[e.ShowCreate||"undefined"==e.permission?e._e():i("div",[i("div",{staticClass:"q-pa-md q-gutter-sm"},[i("div",{staticClass:"row justify-center q-gutter-sm"},[i("div",{staticClass:"col-auto"},[e.profilePic?i("q-avatar",{staticStyle:{width:"250px",height:"250px"}},[i("q-img",{staticStyle:{height:"250px",width:"250px"},attrs:{contains:"",src:e.uploadedImage?e.ProfilePic:e.baseUrl+"/"+e.ProfilePic+"?"+(new Date).getTime()}},["owner"==e.permission?i("div",{staticClass:"absolute-full text-subtitle2 flex flex-center overlay-image-add",staticStyle:{opacity:"0"},on:{click:function(){return e.$refs.uploader.pickFiles()}}},[i("q-icon",{attrs:{name:"add",size:"150px"}})],1):e._e()])],1):e._e()],1),i("div",{staticClass:"col-auto"},[i("q-uploader",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"uploader",staticStyle:{"max-width":"300px",height:"100%"},attrs:{label:"Restricted to images",accept:".jpg, image/*",multiple:!1,"hide-upload-btn":!0,url:e.baseUrl+"/api/profile/profile-picture",method:"PUT",headers:[{name:"Authorization",value:e.axiosConfig.headers.Authorization}]},on:{added:function(t){return e.added_handle(t)},removed:function(t){e.uploadedImage=!1},uploaded:e.showRes,failed:e.showRes}})],1)])]),i("h6",{staticClass:"q-my-none text-center"},[e._v(e._s(" "+e.email))]),"owner"==e.permission?i("div",{staticClass:"row justify-center"},[e._l(e.ownerBar,function(t,r){return[i("q-separator",{key:"su"+r,attrs:{vertical:""}}),i("div",{key:"u"+r,staticClass:"col-2 text-center owner-bar-btn",on:{click:function(i){return e.$router.push(t.to)}}},[i("div",{staticClass:"text-caption"},[e._v(e._s(t.label))]),i("div",{staticClass:"text-h6"},[e._v(e._s(t.value))])]),i("q-separator",{key:"sd"+r,attrs:{vertical:""}})]})],2):e._e(),"friends"==e.permission?i("div",[i("div",{staticClass:"row text-subtitle2 justify-center q-mb-xs q-mx-md"},[e._v("add user to group:")]),i("div",{staticClass:"row q-px-md"},[i("div",{staticClass:"col-9"},[i("q-select",{attrs:{outlined:"",options:e.options},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),i("div",{staticClass:"col-3"},[i("q-btn",{style:{height:"100%",width:"100%"},attrs:{outline:"","text-color":"black",icon:"add"},on:{click:function(t){return e.handle_addToGroup({group:null==e.model?null:e.model.value,friend:{_id:e.user.profile.id}})}}})],1)])]):e._e(),"friends"!=e.permission&&"owner"!=e.permission?i("div",[i("div",{staticClass:"row justify-center q-my-md"},[i("q-btn",{attrs:{outline:"",color:"white","text-color":"black",label:"Add Friend"},on:{click:function(t){return e.$store.dispatch("Friend/add",e.email)}}})],1)]):e._e(),i("q-separator",{staticClass:"q-px-auto",attrs:{inset:"",color:"black-2"}}),i("q-list",[i("q-expansion-item",{attrs:{popup:"",icon:"business",label:"public-bio:"}},[i("div",{staticClass:"q-pa-md q-gutter-sm"},["owner"==e.permission?i("q-editor",{attrs:{"min-height":"5rem"},model:{value:e.editorPublic,callback:function(t){e.editorPublic=t},expression:"editorPublic"}}):e._e(),"owner"!=e.permission?i("q-card",{attrs:{flat:"",bordered:""}},[i("q-card-section",{domProps:{innerHTML:e._s(e.editorPublic)}})],1):e._e()],1)]),i("q-expansion-item",{attrs:{popup:"",icon:"message",label:"friends-bio:"}},["owner"==e.permission||"friends"==e.permission?i("div",{staticClass:"q-pa-md q-gutter-sm"},["owner"==e.permission?i("q-editor",{attrs:{"min-height":"5rem"},model:{value:e.editorFriends,callback:function(t){e.editorFriends=t},expression:"editorFriends"}}):e._e(),"owner"!=e.permission?i("q-card",{attrs:{flat:"",bordered:""}},[i("q-card-section",{domProps:{innerHTML:e._s(e.editorFriends)}})],1):e._e()],1):e._e()]),"owner"==e.permission?i("q-expansion-item",{attrs:{popup:"",icon:"vpn_key",label:"private-bio:"}},["owner"==e.permission?i("div",{staticClass:"q-pa-md q-mb-xl q-gutter-sm"},["owner"==e.permission?i("q-editor",{attrs:{"min-height":"5rem"},model:{value:e.editorPrivate,callback:function(t){e.editorPrivate=t},expression:"editorPrivate"}}):e._e(),"owner"!=e.permission?i("q-card",{attrs:{flat:"",bordered:""}},[i("q-card-section",{domProps:{innerHTML:e._s(e.editorPrivate)}})],1):e._e()],1):e._e()]):e._e()],1),"owner"==e.permission?i("q-btn",{staticClass:"fixed-bottom",style:{width:"100%",height:"50px"},attrs:{color:"green",icon:"save"},on:{click:e.save_handle}}):e._e()],1),e.ShowCreate?i("div",[i("h3",{staticClass:"text-center"},[e._v("\n      No Profile Data.\n      "),i("br"),e._v("To Create Please Press The Button.\n    ")]),i("q-btn",{staticClass:"fixed-bottom",style:{width:"100%",height:"65px"},attrs:{icon:"create",color:"purple"},on:{click:e.created_handle}})],1):e._e()])},s=[],o=i("a34a"),n=i.n(o),a=(i("96cf"),i("c973")),c=i.n(a),l=i("5841"),d=i("c181"),u={props:["id"],watch:{id:function(){this.refresh()}},data:function(){return{model:null,options:[],axiosConfig:d["a"].axiosConfig(),uploadedImage:!1,baseUrl:l["a"].localBaseUrl,user:{},showCreate:!1,loaded:!1,permission:"",profilePic:"",email:"",editorPublic:"What you see is <b>what</b> you get.",editorFriends:"What you see is <b>what</b> you get.",editorPrivate:"What you see is <b>what</b> you get.",ownerBar:[]}},computed:{ShowCreate:function(){return this.showCreate},ProfilePic:function(){return this.profilePic}},methods:{added_handle:function(e){this.uploadedImage=!0,this.profilePic=e[0].__img.src},showRes:function(e){console.log(e)},created_handle:function(){var e=c()(n.a.mark(function e(){return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("Profile/create");case 2:return e.sent,e.next=5,this.refresh();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),save_handle:function(){var e=c()(n.a.mark(function e(){return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return 1==this.uploadedImage&&this.$refs.uploader.upload(),e.next=3,this.$store.dispatch("Profile/update",{own:this.editorPrivate,friends:this.editorFriends,public:this.editorPublic});case 3:return e.sent,e.next=6,this.refresh();case 6:this.uploadedImage=!1;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handle_addToGroup:function(){var e=c()(n.a.mark(function e(t){var i;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(null==t.group){e.next=9;break}return e.next=3,this.$store.dispatch("Friend/addFriendToGroup",t);case 3:return i=e.sent,this.$q.notify({message:"added account: "+i.addedUser.email,color:"purple"}),e.next=7,this.$store.dispatch("Group/syncGroups");case 7:e.next=10;break;case 9:alert("no group chosen");case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getOptionsGroup:function(){var e=c()(n.a.mark(function e(){var t,i;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("Group/syncGroups");case 2:t=this.$store.getters["Group/Groups"],i=t.map(function(e){return{label:"".concat(e.group_name,": ").concat(e.group_desc),value:e._id}}),this.options=i;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),refresh:function(){var e=c()(n.a.mark(function e(){var t,i,r=this;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("Profile/get",this.id);case 3:t=e.sent,i=t.data,this.user=i,"owner"==i.permission&&"profile undefined"==i.message&&(console.error("should create"),this.showCreate=!0),"owner"==i.permission&&(this.ownerBar=[{label:"Friends",value:this.$store.getters["Friend/friends"].length,to:"/friends"},{label:"Groups",value:this.$store.getters["Group/Groups"].length,to:"/groups"},{label:"Commits",value:this.$store.getters["Post/getPosts"].map(function(e){return e.commits}).flat().filter(function(e){return e.user._id==r.id}).length,to:"/post/commits/"+this.id}]),this.loaded=!0,this.permission=i.permission,this.editorPrivate=void 0==i.profile.own?"":i.profile.own,this.editorFriends=void 0==i.profile.friends?"":i.profile.friends,this.editorPublic=void 0==i.profile.public?"":i.profile.public,this.profilePic=void 0==i.profile.profilePicture?"images/anonymous.jpg":i.profile.profilePicture,this.email=void 0==i.profile.email?"":i.profile.email,e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),console.log(e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=c()(n.a.mark(function e(){return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.refresh();case 2:return e.next=4,this.getOptionsGroup();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},p=u,h=(i("f7f0"),i("2877")),f=Object(h["a"])(p,r,s,!1,null,"887c5e68",null);t["default"]=f.exports},"9b66":function(e,t,i){},f7f0:function(e,t,i){"use strict";var r=i("9b66"),s=i.n(r);s.a}}]);